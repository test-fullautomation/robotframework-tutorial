<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />
<title>tutorial-04: working with variable files in command line</title>
<style type="text/css">

/*
:Author: David Goodger (goodger@python.org)
:Id: $Id: html4css1.css 8954 2022-01-20 10:10:25Z milde $
:Copyright: This stylesheet has been placed in the public domain.

Default cascading style sheet for the HTML output of Docutils.

See https://docutils.sourceforge.io/docs/howto/html-stylesheets.html for how to
customize this style sheet.
*/

/* used to remove borders from tables and images */
.borderless, table.borderless td, table.borderless th {
  border: 0 }

table.borderless td, table.borderless th {
  /* Override padding for "table.docutils td" with "! important".
     The right padding separates the table cells. */
  padding: 0 0.5em 0 0 ! important }

.first {
  /* Override more specific margin styles with "! important". */
  margin-top: 0 ! important }

.last, .with-subtitle {
  margin-bottom: 0 ! important }

.hidden {
  display: none }

.subscript {
  vertical-align: sub;
  font-size: smaller }

.superscript {
  vertical-align: super;
  font-size: smaller }

a.toc-backref {
  text-decoration: none ;
  color: black }

blockquote.epigraph {
  margin: 2em 5em ; }

dl.docutils dd {
  margin-bottom: 0.5em }

object[type="image/svg+xml"], object[type="application/x-shockwave-flash"] {
  overflow: hidden;
}

/* Uncomment (and remove this text!) to get bold-faced definition list terms
dl.docutils dt {
  font-weight: bold }
*/

div.abstract {
  margin: 2em 5em }

div.abstract p.topic-title {
  font-weight: bold ;
  text-align: center }

div.admonition, div.attention, div.caution, div.danger, div.error,
div.hint, div.important, div.note, div.tip, div.warning {
  margin: 2em ;
  border: medium outset ;
  padding: 1em }

div.admonition p.admonition-title, div.hint p.admonition-title,
div.important p.admonition-title, div.note p.admonition-title,
div.tip p.admonition-title {
  font-weight: bold ;
  font-family: sans-serif }

div.attention p.admonition-title, div.caution p.admonition-title,
div.danger p.admonition-title, div.error p.admonition-title,
div.warning p.admonition-title, .code .error {
  color: red ;
  font-weight: bold ;
  font-family: sans-serif }

/* Uncomment (and remove this text!) to get reduced vertical space in
   compound paragraphs.
div.compound .compound-first, div.compound .compound-middle {
  margin-bottom: 0.5em }

div.compound .compound-last, div.compound .compound-middle {
  margin-top: 0.5em }
*/

div.dedication {
  margin: 2em 5em ;
  text-align: center ;
  font-style: italic }

div.dedication p.topic-title {
  font-weight: bold ;
  font-style: normal }

div.figure {
  margin-left: 2em ;
  margin-right: 2em }

div.footer, div.header {
  clear: both;
  font-size: smaller }

div.line-block {
  display: block ;
  margin-top: 1em ;
  margin-bottom: 1em }

div.line-block div.line-block {
  margin-top: 0 ;
  margin-bottom: 0 ;
  margin-left: 1.5em }

div.sidebar {
  margin: 0 0 0.5em 1em ;
  border: medium outset ;
  padding: 1em ;
  background-color: #ffffee ;
  width: 40% ;
  float: right ;
  clear: right }

div.sidebar p.rubric {
  font-family: sans-serif ;
  font-size: medium }

div.system-messages {
  margin: 5em }

div.system-messages h1 {
  color: red }

div.system-message {
  border: medium outset ;
  padding: 1em }

div.system-message p.system-message-title {
  color: red ;
  font-weight: bold }

div.topic {
  margin: 2em }

h1.section-subtitle, h2.section-subtitle, h3.section-subtitle,
h4.section-subtitle, h5.section-subtitle, h6.section-subtitle {
  margin-top: 0.4em }

h1.title {
  text-align: center }

h2.subtitle {
  text-align: center }

hr.docutils {
  width: 75% }

img.align-left, .figure.align-left, object.align-left, table.align-left {
  clear: left ;
  float: left ;
  margin-right: 1em }

img.align-right, .figure.align-right, object.align-right, table.align-right {
  clear: right ;
  float: right ;
  margin-left: 1em }

img.align-center, .figure.align-center, object.align-center {
  display: block;
  margin-left: auto;
  margin-right: auto;
}

table.align-center {
  margin-left: auto;
  margin-right: auto;
}

.align-left {
  text-align: left }

.align-center {
  clear: both ;
  text-align: center }

.align-right {
  text-align: right }

/* reset inner alignment in figures */
div.align-right {
  text-align: inherit }

/* div.align-center * { */
/*   text-align: left } */

.align-top    {
  vertical-align: top }

.align-middle {
  vertical-align: middle }

.align-bottom {
  vertical-align: bottom }

ol.simple, ul.simple {
  margin-bottom: 1em }

ol.arabic {
  list-style: decimal }

ol.loweralpha {
  list-style: lower-alpha }

ol.upperalpha {
  list-style: upper-alpha }

ol.lowerroman {
  list-style: lower-roman }

ol.upperroman {
  list-style: upper-roman }

p.attribution {
  text-align: right ;
  margin-left: 50% }

p.caption {
  font-style: italic }

p.credits {
  font-style: italic ;
  font-size: smaller }

p.label {
  white-space: nowrap }

p.rubric {
  font-weight: bold ;
  font-size: larger ;
  color: maroon ;
  text-align: center }

p.sidebar-title {
  font-family: sans-serif ;
  font-weight: bold ;
  font-size: larger }

p.sidebar-subtitle {
  font-family: sans-serif ;
  font-weight: bold }

p.topic-title {
  font-weight: bold }

pre.address {
  margin-bottom: 0 ;
  margin-top: 0 ;
  font: inherit }

pre.literal-block, pre.doctest-block, pre.math, pre.code {
  margin-left: 2em ;
  margin-right: 2em }

pre.code .ln { color: grey; } /* line numbers */
pre.code, code { background-color: #eeeeee }
pre.code .comment, code .comment { color: #5C6576 }
pre.code .keyword, code .keyword { color: #3B0D06; font-weight: bold }
pre.code .literal.string, code .literal.string { color: #0C5404 }
pre.code .name.builtin, code .name.builtin { color: #352B84 }
pre.code .deleted, code .deleted { background-color: #DEB0A1}
pre.code .inserted, code .inserted { background-color: #A3D289}

span.classifier {
  font-family: sans-serif ;
  font-style: oblique }

span.classifier-delimiter {
  font-family: sans-serif ;
  font-weight: bold }

span.interpreted {
  font-family: sans-serif }

span.option {
  white-space: nowrap }

span.pre {
  white-space: pre }

span.problematic {
  color: red }

span.section-subtitle {
  /* font-size relative to parent (h1..h6 element) */
  font-size: 80% }

table.citation {
  border-left: solid 1px gray;
  margin-left: 1px }

table.docinfo {
  margin: 2em 4em }

table.docutils {
  margin-top: 0.5em ;
  margin-bottom: 0.5em }

table.footnote {
  border-left: solid 1px black;
  margin-left: 1px }

table.docutils td, table.docutils th,
table.docinfo td, table.docinfo th {
  padding-left: 0.5em ;
  padding-right: 0.5em ;
  vertical-align: top }

table.docutils th.field-name, table.docinfo th.docinfo-name {
  font-weight: bold ;
  text-align: left ;
  white-space: nowrap ;
  padding-left: 0 }

/* "booktabs" style (no vertical lines) */
table.docutils.booktabs {
  border: 0px;
  border-top: 2px solid;
  border-bottom: 2px solid;
  border-collapse: collapse;
}
table.docutils.booktabs * {
  border: 0px;
}
table.docutils.booktabs th {
  border-bottom: thin solid;
  text-align: left;
}

h1 tt.docutils, h2 tt.docutils, h3 tt.docutils,
h4 tt.docutils, h5 tt.docutils, h6 tt.docutils {
  font-size: 100% }

ul.auto-toc {
  list-style-type: none }

</style>
</head>
<body>
<div class="document" id="tutorial-04-working-with-variable-files-in-command-line">
<h1 class="title">tutorial-04: working with variable files in command line</h1>

<!-- Copyright 2020-2022 Robert Bosch GmbH -->
<!-- Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at -->
<!-- http://www.apache.org/licenses/LICENSE-2.0 -->
<!-- Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License. -->
<p><strong>Data sets</strong></p>
<p>Before we go to the tests of this tutorial we take a look at the variables used here.</p>
<p>Providing additional informations and settings in command line is an option. To be on the save side,
every variable should be initialized</p>
<p>The variables of this tutorial are initialized within</p>
<pre class="code literal-block">
./libs/testimport.resource
</pre>
<p>in the following way:</p>
<pre class="code literal-block">
${cmdline_var_1}    ${None}
${cmdline_var_2}    ${None}
${cmdline_var_3}    ${None}
${cmdline_var_4}    ${None}
${cmdline_var_5}    ${None}
${cmdline_var_6}    ${None}
${cmdline_var_7}    ${None}
</pre>
<p>Valid values are defined within the Python variable file</p>
<pre class="code literal-block">
./variables/testvariables.py
</pre>
<p>in the following way:</p>
<pre class="code literal-block">
cmdline_var_1 = &quot;variable file test string&quot;
cmdline_var_2 = 234
cmdline_var_3 = 5.67
cmdline_var_4 = ['A', 'B', 'C']
cmdline_var_5 = {'A' : 1, 'B' : 2, 'C' : 3}
cmdline_var_6 = True
cmdline_var_7 = None
</pre>
<p><strong>Robot file</strong></p>
<p><tt class="docutils literal"><span class="pre">tutorial-04.robot</span></tt> demonstrates how to work with variable files and single variables in command line.</p>
<div class="section" id="test-case-04-01">
<h1>Test case 04_01</h1>
<p>In test case <tt class="docutils literal">04_01</tt> all variables are logged with <tt class="docutils literal">log_scalar</tt>:</p>
<pre class="code literal-block">
log_scalar    ${variablefile_val_1}
log_scalar    ${variablefile_val_2}
log_scalar    ${variablefile_val_3}
log_scalar    ${variablefile_val_4}
log_scalar    ${variablefile_val_5}
log_scalar    ${variablefile_val_6}
log_scalar    ${variablefile_val_7}
</pre>
<p><strong>Execution</strong></p>
<p>Now we go through several ways to execute the test.</p>
<p><em>Standard execution without any command line extensions</em></p>
<pre class="code literal-block">
&quot;%RobotPythonPath%/python.exe&quot; -m robot -d ./logfiles -o tutorial-04.xml -l tutorial-04_log.html -r tutorial-04_report.html -b tutorial-04.log ./tutorial-04.robot
</pre>
<p><strong>Outcome</strong></p>
<p>The value of all variables is <tt class="docutils literal">None</tt> (like initialized).</p>
<hr class="docutils" />
<p><em>Execution with variable file in command line</em></p>
<p>Now we add a variable file to command line:</p>
<pre class="code literal-block">
--variablefile ./variables/testvariables.py
</pre>
<p>Complete command line:</p>
<pre class="code literal-block">
&quot;%RobotPythonPath%/python.exe&quot; -m robot --variablefile ./variables/testvariables.py -d ./logfiles -o tutorial-04.xml -l tutorial-04_log.html -r tutorial-04_report.html -b tutorial-04.log ./tutorial-04.robot
</pre>
<p><strong>Outcome</strong></p>
<p>Value and data type of all variables are like defined in <tt class="docutils literal">testvariables.py</tt>.</p>
<hr class="docutils" />
<p><em>Execution with single variable in command line</em></p>
<p>Instead of using a file containing definitions of variables it is also possible to provide single variables in command line.</p>
<p>But here we have a limitation: It is only possible to use string values!</p>
<p>Now we add a single variable to command line:</p>
<pre class="code literal-block">
--variable cmdline_var_1:&quot;command line test string&quot;
</pre>
<p>Complete command line:</p>
<pre class="code literal-block">
&quot;%RobotPythonPath%/python.exe&quot; -m robot --variable cmdline_var_1:&quot;command line test string&quot; -d ./logfiles -o tutorial-04.xml -l tutorial-04_log.html -r tutorial-04_report.html -b tutorial-04.log ./tutorial-04.robot
</pre>
<p><strong>Outcome</strong></p>
<p>The variable <tt class="docutils literal">cmdline_var_1</tt> has the new value <tt class="docutils literal">command line test string</tt>. The value of all other variables is still <tt class="docutils literal">None</tt>.</p>
<hr class="docutils" />
<p><em>Execution with several variables in command line</em></p>
<p>Now we provide two variables in command line: an integer and a boolean value:</p>
<pre class="code literal-block">
--variable cmdline_var_2:234 --variable cmdline_var_6:True
</pre>
<p>Complete command line:</p>
<pre class="code literal-block">
&quot;%RobotPythonPath%/python.exe&quot; -m robot --variable cmdline_var_2:234 --variable cmdline_var_6:True -d ./logfiles -o tutorial-04.xml -l tutorial-04_log.html -r tutorial-04_report.html -b tutorial-04.log ./tutorial-04.robot
</pre>
<p><strong>Outcome</strong></p>
<p>Both variables are strings! Like already mentioned above: Only string values can be defined in command line. Or in other words:
Every command line value will be interpreted as string. In case you need to work also with other data types you have to use the variable file mechanism
(<tt class="docutils literal"><span class="pre">--variablefile</span></tt>).</p>
<hr class="docutils" />
<p><strong>Command line variables and RobotFramework_Testsuites configuration</strong></p>
<p>Up to now for command line tests we have only used variables that are not already defined within a JSON file of the <strong>RobotFramework_Testsuites</strong> configuration.
What will happen, when we try to overwrite such a configuration value in command line? The answer is: This will not work!</p>
<p>The <strong>RobotFramework_Testsuites</strong> configuration of the RobotFramework AIO is a certain extension of the Robot Framework. The possibility to
define values in several JSON files under certain conditions is a powerful feature - but this feature currently has the limitation
that the JSON file values cannot be overwritten in command line (with both <tt class="docutils literal"><span class="pre">--variablefile</span></tt> and <tt class="docutils literal"><span class="pre">--variable</span></tt>).</p>
<p>Remember:</p>
<p>In the global params section of <tt class="docutils literal">tutorialconfig.json</tt> the following string variable is defined:</p>
<pre class="code literal-block">
&quot;string_val&quot; : &quot;test string&quot;,
</pre>
<p>Use the following command line to (try to) overwrite this value:</p>
<pre class="code literal-block">
&quot;%RobotPythonPath%/python.exe&quot; -m robot --variable string_val:&quot;command line test string&quot; -d ./logfiles -o tutorial-04.xml -l tutorial-04_log.html -r tutorial-04_report.html -b tutorial-04.log ./tutorial-04.robot
</pre>
<p><strong>Outcome</strong></p>
<p>The configuration variable <tt class="docutils literal">string_val</tt> still has the original value <tt class="docutils literal">test string</tt>.</p>
<p><em>Please be aware of this effect when you design your tests.</em></p>
</div>
</div>
</body>
</html>
