<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />
<title>exercise-02</title>
<style type="text/css">

/*
:Author: David Goodger (goodger@python.org)
:Id: $Id: html4css1.css 8954 2022-01-20 10:10:25Z milde $
:Copyright: This stylesheet has been placed in the public domain.

Default cascading style sheet for the HTML output of Docutils.

See https://docutils.sourceforge.io/docs/howto/html-stylesheets.html for how to
customize this style sheet.
*/

/* used to remove borders from tables and images */
.borderless, table.borderless td, table.borderless th {
  border: 0 }

table.borderless td, table.borderless th {
  /* Override padding for "table.docutils td" with "! important".
     The right padding separates the table cells. */
  padding: 0 0.5em 0 0 ! important }

.first {
  /* Override more specific margin styles with "! important". */
  margin-top: 0 ! important }

.last, .with-subtitle {
  margin-bottom: 0 ! important }

.hidden {
  display: none }

.subscript {
  vertical-align: sub;
  font-size: smaller }

.superscript {
  vertical-align: super;
  font-size: smaller }

a.toc-backref {
  text-decoration: none ;
  color: black }

blockquote.epigraph {
  margin: 2em 5em ; }

dl.docutils dd {
  margin-bottom: 0.5em }

object[type="image/svg+xml"], object[type="application/x-shockwave-flash"] {
  overflow: hidden;
}

/* Uncomment (and remove this text!) to get bold-faced definition list terms
dl.docutils dt {
  font-weight: bold }
*/

div.abstract {
  margin: 2em 5em }

div.abstract p.topic-title {
  font-weight: bold ;
  text-align: center }

div.admonition, div.attention, div.caution, div.danger, div.error,
div.hint, div.important, div.note, div.tip, div.warning {
  margin: 2em ;
  border: medium outset ;
  padding: 1em }

div.admonition p.admonition-title, div.hint p.admonition-title,
div.important p.admonition-title, div.note p.admonition-title,
div.tip p.admonition-title {
  font-weight: bold ;
  font-family: sans-serif }

div.attention p.admonition-title, div.caution p.admonition-title,
div.danger p.admonition-title, div.error p.admonition-title,
div.warning p.admonition-title, .code .error {
  color: red ;
  font-weight: bold ;
  font-family: sans-serif }

/* Uncomment (and remove this text!) to get reduced vertical space in
   compound paragraphs.
div.compound .compound-first, div.compound .compound-middle {
  margin-bottom: 0.5em }

div.compound .compound-last, div.compound .compound-middle {
  margin-top: 0.5em }
*/

div.dedication {
  margin: 2em 5em ;
  text-align: center ;
  font-style: italic }

div.dedication p.topic-title {
  font-weight: bold ;
  font-style: normal }

div.figure {
  margin-left: 2em ;
  margin-right: 2em }

div.footer, div.header {
  clear: both;
  font-size: smaller }

div.line-block {
  display: block ;
  margin-top: 1em ;
  margin-bottom: 1em }

div.line-block div.line-block {
  margin-top: 0 ;
  margin-bottom: 0 ;
  margin-left: 1.5em }

div.sidebar {
  margin: 0 0 0.5em 1em ;
  border: medium outset ;
  padding: 1em ;
  background-color: #ffffee ;
  width: 40% ;
  float: right ;
  clear: right }

div.sidebar p.rubric {
  font-family: sans-serif ;
  font-size: medium }

div.system-messages {
  margin: 5em }

div.system-messages h1 {
  color: red }

div.system-message {
  border: medium outset ;
  padding: 1em }

div.system-message p.system-message-title {
  color: red ;
  font-weight: bold }

div.topic {
  margin: 2em }

h1.section-subtitle, h2.section-subtitle, h3.section-subtitle,
h4.section-subtitle, h5.section-subtitle, h6.section-subtitle {
  margin-top: 0.4em }

h1.title {
  text-align: center }

h2.subtitle {
  text-align: center }

hr.docutils {
  width: 75% }

img.align-left, .figure.align-left, object.align-left, table.align-left {
  clear: left ;
  float: left ;
  margin-right: 1em }

img.align-right, .figure.align-right, object.align-right, table.align-right {
  clear: right ;
  float: right ;
  margin-left: 1em }

img.align-center, .figure.align-center, object.align-center {
  display: block;
  margin-left: auto;
  margin-right: auto;
}

table.align-center {
  margin-left: auto;
  margin-right: auto;
}

.align-left {
  text-align: left }

.align-center {
  clear: both ;
  text-align: center }

.align-right {
  text-align: right }

/* reset inner alignment in figures */
div.align-right {
  text-align: inherit }

/* div.align-center * { */
/*   text-align: left } */

.align-top    {
  vertical-align: top }

.align-middle {
  vertical-align: middle }

.align-bottom {
  vertical-align: bottom }

ol.simple, ul.simple {
  margin-bottom: 1em }

ol.arabic {
  list-style: decimal }

ol.loweralpha {
  list-style: lower-alpha }

ol.upperalpha {
  list-style: upper-alpha }

ol.lowerroman {
  list-style: lower-roman }

ol.upperroman {
  list-style: upper-roman }

p.attribution {
  text-align: right ;
  margin-left: 50% }

p.caption {
  font-style: italic }

p.credits {
  font-style: italic ;
  font-size: smaller }

p.label {
  white-space: nowrap }

p.rubric {
  font-weight: bold ;
  font-size: larger ;
  color: maroon ;
  text-align: center }

p.sidebar-title {
  font-family: sans-serif ;
  font-weight: bold ;
  font-size: larger }

p.sidebar-subtitle {
  font-family: sans-serif ;
  font-weight: bold }

p.topic-title {
  font-weight: bold }

pre.address {
  margin-bottom: 0 ;
  margin-top: 0 ;
  font: inherit }

pre.literal-block, pre.doctest-block, pre.math, pre.code {
  margin-left: 2em ;
  margin-right: 2em }

pre.code .ln { color: grey; } /* line numbers */
pre.code, code { background-color: #eeeeee }
pre.code .comment, code .comment { color: #5C6576 }
pre.code .keyword, code .keyword { color: #3B0D06; font-weight: bold }
pre.code .literal.string, code .literal.string { color: #0C5404 }
pre.code .name.builtin, code .name.builtin { color: #352B84 }
pre.code .deleted, code .deleted { background-color: #DEB0A1}
pre.code .inserted, code .inserted { background-color: #A3D289}

span.classifier {
  font-family: sans-serif ;
  font-style: oblique }

span.classifier-delimiter {
  font-family: sans-serif ;
  font-weight: bold }

span.interpreted {
  font-family: sans-serif }

span.option {
  white-space: nowrap }

span.pre {
  white-space: pre }

span.problematic {
  color: red }

span.section-subtitle {
  /* font-size relative to parent (h1..h6 element) */
  font-size: 80% }

table.citation {
  border-left: solid 1px gray;
  margin-left: 1px }

table.docinfo {
  margin: 2em 4em }

table.docutils {
  margin-top: 0.5em ;
  margin-bottom: 0.5em }

table.footnote {
  border-left: solid 1px black;
  margin-left: 1px }

table.docutils td, table.docutils th,
table.docinfo td, table.docinfo th {
  padding-left: 0.5em ;
  padding-right: 0.5em ;
  vertical-align: top }

table.docutils th.field-name, table.docinfo th.docinfo-name {
  font-weight: bold ;
  text-align: left ;
  white-space: nowrap ;
  padding-left: 0 }

/* "booktabs" style (no vertical lines) */
table.docutils.booktabs {
  border: 0px;
  border-top: 2px solid;
  border-bottom: 2px solid;
  border-collapse: collapse;
}
table.docutils.booktabs * {
  border: 0px;
}
table.docutils.booktabs th {
  border-bottom: thin solid;
  text-align: left;
}

h1 tt.docutils, h2 tt.docutils, h3 tt.docutils,
h4 tt.docutils, h5 tt.docutils, h6 tt.docutils {
  font-size: 100% }

ul.auto-toc {
  list-style-type: none }

</style>
</head>
<body>
<div class="document" id="exercise-02">
<h1 class="title">exercise-02</h1>

<!-- Copyright 2020-2022 Robert Bosch GmbH -->
<!-- Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at -->
<!-- http://www.apache.org/licenses/LICENSE-2.0 -->
<!-- Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License. -->
<hr class="docutils" />
<div class="section" id="content">
<h1>Content</h1>
<p><tt class="docutils literal"><span class="pre">exercise-02</span></tt> demonstrates several ways to define the configuration in command line. This can be used to realize a variant handling.</p>
<p>We assume to have the variants <tt class="docutils literal">variant1</tt>, <tt class="docutils literal">variant2</tt> and a <tt class="docutils literal">default</tt> variant. For every variant we need a configuration file defining the
parameter values that are specific for this variant. In this exercise that are the files</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">config/exercise-02_config_default.json</span></tt></li>
<li><tt class="docutils literal"><span class="pre">config/exercise-02_config_variant1.json</span></tt></li>
<li><tt class="docutils literal"><span class="pre">config/exercise-02_config_variant2.json</span></tt></li>
</ul>
<p>Every of these files define a test string containing an individual value, e.g. the file <tt class="docutils literal"><span class="pre">exercise-02_config_variant1.json</span></tt> defines:</p>
<pre class="code literal-block">
&quot;teststring&quot; : &quot;I am the 'variant1' configuration of exercise 02&quot;
</pre>
<p>Additionally we need another configuration file defining a mapping between the variant name and the corresponding configuration file:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">config/exercise-02_variants.json</span></tt></li>
</ul>
<p>With the following content:</p>
<pre class="code literal-block">
{
  &quot;default&quot;: {
               &quot;name&quot;: &quot;exercise-02_config_default.json&quot;,
               &quot;path&quot;: &quot;./config/&quot;
             },
  &quot;variant1&quot;: {
               &quot;name&quot;: &quot;exercise-02_config_variant1.json&quot;,
               &quot;path&quot;: &quot;./config/&quot;
              },
  &quot;variant2&quot;: {
               &quot;name&quot;: &quot;exercise-02_config_variant2.json&quot;,
               &quot;path&quot;: &quot;./config/&quot;
              }
}
</pre>
<p>In exercise-02.robot we execute the <tt class="docutils literal">testsuites.testsuite_setup</tt> without providing any configuration file:</p>
<pre class="code literal-block">
Suite Setup    testsuites.testsuite_setup
</pre>
<p>In exercise-02-B.robot we hand over the mapping configuration file to the <tt class="docutils literal">testsuites.testsuite_setup</tt>:</p>
<pre class="code literal-block">
Suite Setup    testsuites.testsuite_setup    ./config/exercise-02_variants.json
</pre>
<p>And we print the content of the test string:</p>
<pre class="code literal-block">
Log    teststring : ${teststring}    console=yes
</pre>
<p>Now we have several possibilities:</p>
<ol class="arabic simple">
<li>Define a variant specific configuration file directly in command line (<tt class="docutils literal"><span class="pre">exercise-02.robot</span></tt>)</li>
<li>Execute the test without any variant specific command line extensions (<tt class="docutils literal"><span class="pre">exercise-02-B.robot</span></tt>)</li>
<li>Define only the name of a variant in command line (<tt class="docutils literal"><span class="pre">exercise-02-B.robot</span></tt>)</li>
</ol>
<p>Starting with the first option ...</p>
<hr class="docutils" />
<ol class="arabic simple">
<li>Define a variant specific configuration file directly in command line (<tt class="docutils literal"><span class="pre">exercise-02.robot</span></tt>)</li>
</ol>
</div>
<div class="section" id="command-line">
<h1>Command line</h1>
<pre class="code literal-block">
&quot;%RobotPythonPath%/python.exe&quot; -m robot -d ./logfiles -o exercise-02.xml -l exercise-02_log.html -r exercise-02_report.html -b exercise-02.log --variable config_file:&quot;./config/exercise-02_config_variant1.json&quot; &quot;./exercise-02.robot&quot;
</pre>
</div>
<hr class="docutils" />
<div class="section" id="outcome">
<h1>Outcome</h1>
<p>A variant specific configuration file can be set with the following command line extension:</p>
<pre class="code literal-block">
--variable config_file:&quot;&lt;path to configuration file&gt;&quot;
</pre>
<p>Here we selected the one for <tt class="docutils literal">variant1</tt>. Therefore the test string has the value</p>
<pre class="code literal-block">
I am the 'variant1' configuration of exercise 02
</pre>
<p>The log file gives more information about the origin</p>
<pre class="code literal-block">
Running with configuration level: 1
CfgFile Path: ./config/exercise-02_config_variant1.json
</pre>
<p><em>TODO: Explain the background of the level warning</em> :</p>
<p><tt class="docutils literal">[ WARN ] The configuration level 1 is set for this Robot run!</tt></p>
<p>Continuing with the second option ...</p>
<hr class="docutils" />
<ol class="arabic simple" start="2">
<li>Execute the test without any variant specific command line extensions (<tt class="docutils literal"><span class="pre">exercise-02-B.robot</span></tt>)</li>
</ol>
</div>
<div class="section" id="command-line-1">
<h1>Command line</h1>
<pre class="code literal-block">
&quot;%RobotPythonPath%/python.exe&quot; -m robot -d ./logfiles -o exercise-02.xml -l exercise-02_log.html -r exercise-02_report.html -b exercise-02.log &quot;./exercise-02-B.robot&quot;
</pre>
</div>
<hr class="docutils" />
<div class="section" id="outcome-1">
<h1>Outcome</h1>
<p>Because no variant name is provided in command line, the defined <tt class="docutils literal">default</tt> variant is loaded and the test string has the value</p>
<pre class="code literal-block">
I am the 'default' variant configuration of exercise 02
</pre>
<p>The log file gives more information about the origin</p>
<pre class="code literal-block">
Running with configuration level: 2
CfgFile Path: ./config/exercise-02_config_default.json
</pre>
<p>Continuing with the third option ...</p>
<hr class="docutils" />
<ol class="arabic simple" start="3">
<li>Define only the name of a variant in command line (<tt class="docutils literal"><span class="pre">exercise-02-B.robot</span></tt>)</li>
</ol>
</div>
<div class="section" id="command-line-2">
<h1>Command line</h1>
<pre class="code literal-block">
&quot;%RobotPythonPath%/python.exe&quot; -m robot -d ./logfiles -o exercise-02.xml -l exercise-02_log.html -r exercise-02_report.html -b exercise-02.log --variable variant:&quot;variant2&quot; &quot;./exercise-02-B.robot&quot;
</pre>
</div>
<hr class="docutils" />
<div class="section" id="outcome-2">
<h1>Outcome</h1>
<p>A variant name can be provided with the following command line extension</p>
<pre class="code literal-block">
--variable variant:&quot;&lt;variant name&gt;&quot;
</pre>
<p>Choosing the variant name <tt class="docutils literal">variant2</tt> cause the following results:</p>
<p>The test string</p>
<pre class="code literal-block">
I am the 'variant2' configuration of exercise 02
</pre>
<p>The log file</p>
<pre class="code literal-block">
Running with configuration level: 2
CfgFile Path: ./config/exercise-02_config_variant2.json
</pre>
</div>
<hr class="docutils" />
<div class="section" id="further-hints">
<h1>Further hints</h1>
<p>A certain aspect needs more consideration: How to access configuration parameter in robot files?</p>
<p>Remember the content of one of the configuration files:</p>
<pre class="code literal-block">
{
  &quot;WelcomeString&quot;: &quot;Hello... RobotFramework AIO is running now!&quot;,

  &quot;Maximum_version&quot;: &quot;0.5.2&quot;,
  &quot;Minimum_version&quot;: &quot;0.5.2&quot;,

  &quot;Project&quot;: &quot;RobotFramework Testsuites&quot;,
  &quot;TargetName&quot; : &quot;Device_01&quot;,

  &quot;params&quot; : {
              &quot;global&quot;: {
                         &quot;teststring&quot; : &quot;I am the 'default' variant configuration of exercise 02&quot;
                        }
             }
}
</pre>
<p>The parameters <tt class="docutils literal">WelcomeString</tt>, <tt class="docutils literal">Maximum_version</tt>, <tt class="docutils literal">Minimum_version</tt>, <tt class="docutils literal">Project</tt> and <tt class="docutils literal">TargetName</tt> are mandatory default parameters of the
<strong>RobotFramework_Testsuites</strong>. They are realized as keys of a global dictionary. Therefore the have to be accessed e.g. in this way:</p>
<pre class="code literal-block">
${CONFIG}[Maximum_version]
</pre>
<p>All user defined parameters within <tt class="docutils literal">params:global</tt> are accessible directly, e.g.:</p>
<pre class="code literal-block">
${teststring}
</pre>
</div>
</div>
</body>
</html>
