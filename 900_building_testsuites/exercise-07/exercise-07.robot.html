<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="Docutils 0.20: https://docutils.sourceforge.io/" />
<title>exercise-07</title>
<style type="text/css">

/*
:Author: David Goodger (goodger@python.org)
:Id: $Id: html4css1.css 8954 2022-01-20 10:10:25Z milde $
:Copyright: This stylesheet has been placed in the public domain.

Default cascading style sheet for the HTML output of Docutils.

See https://docutils.sourceforge.io/docs/howto/html-stylesheets.html for how to
customize this style sheet.
*/

/* used to remove borders from tables and images */
.borderless, table.borderless td, table.borderless th {
  border: 0 }

table.borderless td, table.borderless th {
  /* Override padding for "table.docutils td" with "! important".
     The right padding separates the table cells. */
  padding: 0 0.5em 0 0 ! important }

.first {
  /* Override more specific margin styles with "! important". */
  margin-top: 0 ! important }

.last, .with-subtitle {
  margin-bottom: 0 ! important }

.hidden {
  display: none }

.subscript {
  vertical-align: sub;
  font-size: smaller }

.superscript {
  vertical-align: super;
  font-size: smaller }

a.toc-backref {
  text-decoration: none ;
  color: black }

blockquote.epigraph {
  margin: 2em 5em ; }

dl.docutils dd {
  margin-bottom: 0.5em }

object[type="image/svg+xml"], object[type="application/x-shockwave-flash"] {
  overflow: hidden;
}

/* Uncomment (and remove this text!) to get bold-faced definition list terms
dl.docutils dt {
  font-weight: bold }
*/

div.abstract {
  margin: 2em 5em }

div.abstract p.topic-title {
  font-weight: bold ;
  text-align: center }

div.admonition, div.attention, div.caution, div.danger, div.error,
div.hint, div.important, div.note, div.tip, div.warning {
  margin: 2em ;
  border: medium outset ;
  padding: 1em }

div.admonition p.admonition-title, div.hint p.admonition-title,
div.important p.admonition-title, div.note p.admonition-title,
div.tip p.admonition-title {
  font-weight: bold ;
  font-family: sans-serif }

div.attention p.admonition-title, div.caution p.admonition-title,
div.danger p.admonition-title, div.error p.admonition-title,
div.warning p.admonition-title, .code .error {
  color: red ;
  font-weight: bold ;
  font-family: sans-serif }

/* Uncomment (and remove this text!) to get reduced vertical space in
   compound paragraphs.
div.compound .compound-first, div.compound .compound-middle {
  margin-bottom: 0.5em }

div.compound .compound-last, div.compound .compound-middle {
  margin-top: 0.5em }
*/

div.dedication {
  margin: 2em 5em ;
  text-align: center ;
  font-style: italic }

div.dedication p.topic-title {
  font-weight: bold ;
  font-style: normal }

div.figure {
  margin-left: 2em ;
  margin-right: 2em }

div.footer, div.header {
  clear: both;
  font-size: smaller }

div.line-block {
  display: block ;
  margin-top: 1em ;
  margin-bottom: 1em }

div.line-block div.line-block {
  margin-top: 0 ;
  margin-bottom: 0 ;
  margin-left: 1.5em }

div.sidebar {
  margin: 0 0 0.5em 1em ;
  border: medium outset ;
  padding: 1em ;
  background-color: #ffffee ;
  width: 40% ;
  float: right ;
  clear: right }

div.sidebar p.rubric {
  font-family: sans-serif ;
  font-size: medium }

div.system-messages {
  margin: 5em }

div.system-messages h1 {
  color: red }

div.system-message {
  border: medium outset ;
  padding: 1em }

div.system-message p.system-message-title {
  color: red ;
  font-weight: bold }

div.topic {
  margin: 2em }

h1.section-subtitle, h2.section-subtitle, h3.section-subtitle,
h4.section-subtitle, h5.section-subtitle, h6.section-subtitle {
  margin-top: 0.4em }

h1.title {
  text-align: center }

h2.subtitle {
  text-align: center }

hr.docutils {
  width: 75% }

img.align-left, .figure.align-left, object.align-left, table.align-left {
  clear: left ;
  float: left ;
  margin-right: 1em }

img.align-right, .figure.align-right, object.align-right, table.align-right {
  clear: right ;
  float: right ;
  margin-left: 1em }

img.align-center, .figure.align-center, object.align-center {
  display: block;
  margin-left: auto;
  margin-right: auto;
}

table.align-center {
  margin-left: auto;
  margin-right: auto;
}

.align-left {
  text-align: left }

.align-center {
  clear: both ;
  text-align: center }

.align-right {
  text-align: right }

/* reset inner alignment in figures */
div.align-right {
  text-align: inherit }

/* div.align-center * { */
/*   text-align: left } */

.align-top    {
  vertical-align: top }

.align-middle {
  vertical-align: middle }

.align-bottom {
  vertical-align: bottom }

ol.simple, ul.simple {
  margin-bottom: 1em }

ol.arabic {
  list-style: decimal }

ol.loweralpha {
  list-style: lower-alpha }

ol.upperalpha {
  list-style: upper-alpha }

ol.lowerroman {
  list-style: lower-roman }

ol.upperroman {
  list-style: upper-roman }

p.attribution {
  text-align: right ;
  margin-left: 50% }

p.caption {
  font-style: italic }

p.credits {
  font-style: italic ;
  font-size: smaller }

p.label {
  white-space: nowrap }

p.rubric {
  font-weight: bold ;
  font-size: larger ;
  color: maroon ;
  text-align: center }

p.sidebar-title {
  font-family: sans-serif ;
  font-weight: bold ;
  font-size: larger }

p.sidebar-subtitle {
  font-family: sans-serif ;
  font-weight: bold }

p.topic-title {
  font-weight: bold }

pre.address {
  margin-bottom: 0 ;
  margin-top: 0 ;
  font: inherit }

pre.literal-block, pre.doctest-block, pre.math, pre.code {
  margin-left: 2em ;
  margin-right: 2em }

pre.code .ln { color: grey; } /* line numbers */
pre.code, code { background-color: #eeeeee }
pre.code .comment, code .comment { color: #5C6576 }
pre.code .keyword, code .keyword { color: #3B0D06; font-weight: bold }
pre.code .literal.string, code .literal.string { color: #0C5404 }
pre.code .name.builtin, code .name.builtin { color: #352B84 }
pre.code .deleted, code .deleted { background-color: #DEB0A1}
pre.code .inserted, code .inserted { background-color: #A3D289}

span.classifier {
  font-family: sans-serif ;
  font-style: oblique }

span.classifier-delimiter {
  font-family: sans-serif ;
  font-weight: bold }

span.interpreted {
  font-family: sans-serif }

span.option {
  white-space: nowrap }

span.pre {
  white-space: pre }

span.problematic {
  color: red }

span.section-subtitle {
  /* font-size relative to parent (h1..h6 element) */
  font-size: 80% }

table.citation {
  border-left: solid 1px gray;
  margin-left: 1px }

table.docinfo {
  margin: 2em 4em }

table.docutils {
  margin-top: 0.5em ;
  margin-bottom: 0.5em }

table.footnote {
  border-left: solid 1px black;
  margin-left: 1px }

table.docutils td, table.docutils th,
table.docinfo td, table.docinfo th {
  padding-left: 0.5em ;
  padding-right: 0.5em ;
  vertical-align: top }

table.docutils th.field-name, table.docinfo th.docinfo-name {
  font-weight: bold ;
  text-align: left ;
  white-space: nowrap ;
  padding-left: 0 }

/* "booktabs" style (no vertical lines) */
table.docutils.booktabs {
  border: 0px;
  border-top: 2px solid;
  border-bottom: 2px solid;
  border-collapse: collapse;
}
table.docutils.booktabs * {
  border: 0px;
}
table.docutils.booktabs th {
  border-bottom: thin solid;
  text-align: left;
}

h1 tt.docutils, h2 tt.docutils, h3 tt.docutils,
h4 tt.docutils, h5 tt.docutils, h6 tt.docutils {
  font-size: 100% }

ul.auto-toc {
  list-style-type: none }

</style>
</head>
<body>
<div class="document" id="exercise-07">
<h1 class="title">exercise-07</h1>

<!-- Copyright 2020-2022 Robert Bosch GmbH -->
<!-- Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at -->
<!-- http://www.apache.org/licenses/LICENSE-2.0 -->
<!-- Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License. -->
<hr class="docutils" />
<div class="section" id="content">
<h1>Content</h1>
<p><tt class="docutils literal"><span class="pre">exercise-07</span></tt> demonstrates the priority of configuration parameters.</p>
<p>Background: In previous exercises we handled the level concept. This concept introduces four levels of priority
that define, which of the possible sources of configuration parameters are processed.
But there are other rules involved that influence the priority:</p>
<ul class="simple">
<li><em>The local configuration has higher priority than other parameter configurations</em></li>
<li><em>The command line has higher priority than definitions within configuration files</em></li>
</ul>
<p>Already in command line we have several possibilities to make settings:</p>
<ul class="simple">
<li><em>Set a parameter configuration file</em> (with <strong>RobotFramework_TestsuitesManagement</strong> command line variable <tt class="docutils literal">config_file</tt>, <em>level 1</em>)</li>
<li><em>Set a variant name</em> (with <strong>RobotFramework_TestsuitesManagement</strong> command line variable <tt class="docutils literal">variant</tt>, <em>level 2</em>)</li>
<li><em>Set a local configuration</em> (with <strong>RobotFramework_TestsuitesManagement</strong> command line variable <tt class="docutils literal">local_config</tt>)</li>
<li><em>Set any other variables</em> (directly with Robot Framework command line variable <tt class="docutils literal"><span class="pre">--variable</span></tt>)</li>
</ul>
<p>And it is possible that in all four use cases the same parameters are used. Or in other words: It is possible to use the
<tt class="docutils literal"><span class="pre">--variable</span></tt> mechanism to define a parameter that is also defined within a parameter configuration or within a local configuration - or
in both together.</p>
<p>Finally this is the order of processing (with highest priority first):</p>
<ol class="arabic simple">
<li>Single command line variable (<tt class="docutils literal"><span class="pre">--variable</span></tt>)</li>
<li>Local configuration (<tt class="docutils literal">local_config</tt>)</li>
<li>Variant specific configuration (<tt class="docutils literal">config_file</tt> or <tt class="docutils literal">variant</tt>)</li>
</ol>
<p>Meaning:</p>
<ol class="arabic simple">
<li>Variant specific configuration is overwritten by local configuration</li>
<li>Local configuration is overwritten by single command line variable</li>
</ol>
<p>What happens in case of a command line contains both a <tt class="docutils literal">config_file</tt> and a <tt class="docutils literal">variant</tt>?</p>
<p><tt class="docutils literal">config_file</tt> is level 1 and <tt class="docutils literal">variant</tt> is level 2. Level 1 has higher priority than level 2. Therefore <tt class="docutils literal">config_file</tt>
is the valid one. This does <strong>not</strong> mean that <tt class="docutils literal">config_file</tt> overwrites <tt class="docutils literal">variant</tt>! In case of a certain level is identified
(here: level 1), all other levels are ignored. The outcome is that - in this example - the <tt class="docutils literal">variant</tt> has no meaning.
Between different levels there is an <em>either or</em> relationship. And that is the reason for that it makes no sense to define both in command line,
a <tt class="docutils literal">config_file</tt> and a <tt class="docutils literal">variant</tt>. The <strong>RobotFramework_TestsuitesManagement</strong> throws an error in this case.</p>
<p>But when additionally <tt class="docutils literal"><span class="pre">--variable</span></tt> is used to define a new value for a parameter that is already defined in one of the involved configuration files,
then the configuration file value is overwritten by the command line value.</p>
<p>In this exercise the configuration is realized in the following way:</p>
<p>The <tt class="docutils literal">config</tt> folder contains the already known configuration files</p>
<pre class="code literal-block">
config/exercise-07_variants.jsonp
config/exercise-07_config_default.jsonp
config/exercise-07_config_variant1.jsonp
config/exercise-07_config_variant2.jsonp
</pre>
<p>The <tt class="docutils literal">localconfig</tt> folder contains the already known local configuration files</p>
<pre class="code literal-block">
localconfig/exercise-07_localconfig_bench1.jsonp
localconfig/exercise-07_localconfig_bench2.jsonp
</pre>
<p>The test strings from previous exercises are reduced to one single test string: <tt class="docutils literal">teststring</tt>.
Every configuration file contains an individual value indicating also the origin: variant configuration or local configuration.</p>
<p><tt class="docutils literal"><span class="pre">exercise-07.robot</span></tt> uses the <tt class="docutils literal">testsuite_setup</tt> without a variant configuration file and <tt class="docutils literal"><span class="pre">exercise-07-B.robot</span></tt> uses
<tt class="docutils literal">testsuite_setup</tt> with a variant configuration file.</p>
<p>Both robot files log the test string.</p>
<p>We have now several possibilities to execute the robot files in this exercise with several combinations of all possible ways to define
configuration parameter:</p>
<ul>
<li><p class="first"><tt class="docutils literal"><span class="pre">--variable</span></tt> and <tt class="docutils literal">config_file</tt></p>
<p>Variant configuration is overwritten by command line variable.</p>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">--variable</span></tt> and <tt class="docutils literal">local_config</tt> and <tt class="docutils literal">config_file</tt></p>
<p>Variant configuration is overwritten by local configuration.
Local configuration is overwritten by command line variable.</p>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">--variable</span></tt> and <tt class="docutils literal">local_config</tt> and <tt class="docutils literal">variant</tt></p>
<p>Variant configuration is overwritten by local configuration.
Local configuration is overwritten by command line variable.</p>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">--variable</span></tt> and <tt class="docutils literal">local_config</tt></p>
<p>Local configuration is overwritten by command line variable.</p>
</li>
</ul>
<p>The order of these settings in command line of the Robot Framework has no meaning!</p>
<p>Depending on the combination and depending on the priorities in this combination, the test string has a corresponding value.</p>
</div>
<hr class="docutils" />
<div class="section" id="command-line">
<h1>Command line</h1>
<p>For example we take a look at the second option:</p>
<p><tt class="docutils literal"><span class="pre">--variable</span></tt> and <tt class="docutils literal">local_config</tt> and <tt class="docutils literal">config_file</tt></p>
<pre class="code literal-block">
&quot;%RobotPythonPath%/python.exe&quot; -m robot -d ./logfiles -o exercise-07.xml -l exercise-07_log.html -r exercise-07_report.html -b exercise-07.log --variable teststring:&quot;command line test string&quot; --variable local_config:&quot;./localconfig/exercise-07_localconfig_bench1.jsonp&quot; --variable config_file:&quot;./config/exercise-07_config_variant1.jsonp&quot; &quot;./exercise-07.robot&quot;
</pre>
</div>
<hr class="docutils" />
<div class="section" id="outcome">
<h1>Outcome</h1>
<p>The command line value overwrites the variant configuration and also the local configuration and therefore the value of the test string is:</p>
<pre class="code literal-block">
teststring : command line test string
</pre>
<hr class="docutils" />
<p>Now it's on you to explore the other combinations.</p>
</div>
</div>
</body>
</html>
